### 11.2. Микросервисы: принципы

1)  ```  
    Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу    
    возможностей различных программных решений. На основе таблицы сделайте выбор решения.

    Решение должно соответствовать следующим требованиям:
    Маршрутизация запросов к нужному сервису на основе конфигурации
    Возможность проверки аутентификационной информации в запросах
    Обеспечение терминации HTTPS 
    ```

<table>
    <tr>
        <td>
            API
        </td>
        <td>
            Маршрутизация
        </td>
        <td>
            Аутентификация
        </td>
        <td>
            Терминация
        </td>
    </tr>
    <tr>
        <td>
            Google
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
    </tr>
    <tr>
        <td>
            Amazon
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
    </tr>
    <tr>
        <td>
            Yandex
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
    </tr>
    <tr>
        <td>
            Nginx
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
    </tr>
    <tr>
        <td>
            Kraken
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
    </tr>
    <tr>
        <td>
            Kong
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
    </tr>
    <tr>
        <td>
            Tyk
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
    </tr>
</table>
    
Все API удовлетворяют указанным требованиям, поэтому можно выбрать исходя из бюджета:
- Kong - есть готовые сборки, гибкость настройки, наличиие большого числа модулей, бесплатно
- если облака, то, думаю, стоит использовать облачный API от облака


2) ```
    Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.

    Решение должно соответствовать следующим требованиям:

    - поддержка кластеризации для обеспечения надёжности,
    - хранение сообщений на диске в процессе доставки,
    - высокая скорость работы,
    - поддержка различных форматов сообщений,
    - разделение прав доступа к различным потокам сообщений,
    - простота эксплуатации.
    Обоснуйте свой выбор.

<table>
    <tr>
        <td>
            Брокер
        </td>
        <td>
            поддержка кластеризации
        </td>
        <td>
            хранение сообщений
        </td>
        <td>
            высокая скорость
        </td>
        <td>
            поддержка различных форматов
        </td>
        <td>
            разделение прав доступа
        </td>
        <td>
            простота
        </td>
    </tr>
        <td>
            Kafka
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
    </tr>
    </tr>
        <td>
            Redis
        </td>
        <td>
            +
        </td>
        <td>
            -
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
    </tr>
    </tr>
        <td>
            ActiveMQ
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
        <td>
            -
        </td>
        <td>
            -
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
    </tr>
    </tr>
        <td>
            RabbitMQ
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
    </tr>
    </tr>
        <td>
            Qpid C++
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
        <td>
            -
        </td>
        <td>
            -
        </td>
        <td>
            +
        </td>
        <td>
            -
        </td>
    </tr>
    </tr>
        <td>
            Apache Pulsar
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
        <td>
            -
        </td>
        <td>
            +
        </td>
        <td>
            +
        </td>
        <td>
            -
        </td>
    </tr>
</table>

Сложно сказать, что выбирать одназначно - либо Kafka, либо Rabbit. Но, опять же, у обоих есть свои нюансы - кролик сильнее в маршрутизации, например, кафка - большая скорость обработки.
Что-то из этих двух, в зависимости от желаемой цели.